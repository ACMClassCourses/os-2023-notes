# W8D2

#### Buffer Overflow

- Architecture level mechanism: data area not executable (page table: DEP)

- Stack Canary

  - compiler adds canary in stack and check whether canary is modified

  - eg: 

    ```c
    foo() {
    	//compiler: add code to insert canary
    	char s[128];
    	get(s);
    	//compiler: add code to check canary
    }
    ```



#### Code Reuse Attacks (Return to libc)

```c
system("/bin/sh");
=
fork();
execve("/bin/sh");
```

- use instructions in libc to build useful functions (including stack overflow)



#### Format String Attack

format string:

```c
printf("Hello, %s", name);
printf("%x add %x equals %x", a, b, c);
```

- if not enough args provided: 
  - compiler will reserve space for these args
  - can be used to either leak information or modify registers



#### Back Doors

